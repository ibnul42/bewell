import{a as y,r as h,b as N,j as e,L as l,l as P,Q as n,q as E,s as k}from"./index-71643b37.js";const S=()=>{const d=y(),[o,r]=h.useState("view"),{user:s}=N(a=>a.auth),[i,c]=h.useState({email:"",name:"",oldPassword:"",newPassword:"",confirmPassword:""}),{email:p,name:f,confirmPassword:m,oldPassword:b,newPassword:u}=i;h.useEffect(()=>{s&&c(a=>({...a,email:s==null?void 0:s.email,name:s==null?void 0:s.name}))},[s]);const w=()=>{d(P())},t=a=>{const{name:x,value:j}=a.target;c(v=>({...v,[x]:j}))},g=async()=>{if(!s||!s.id){n("User not found");return}if(o==="infoEdit"){if(!f||!p){n("Please enter all fields");return}d(E({...i,id:s.id}))}else if(o==="passwordEdit"){if(!b||!u||!m){n("Please fill all fields");return}if(u!==m){n("Passwords do not match");return}d(k({...i,id:s.id}))}};return e.jsxs("div",{className:"flex gap-2 min-h-[70vh]",children:[e.jsxs("div",{className:"w-64 flex flex-col justify-between text-center bg-[rgba(132,191,181,0.6)]",children:[e.jsxs("div",{className:"flex flex-col justify-between",children:[e.jsx(l,{to:"/admin/dashboard",className:"py-2 bg-[rgba(132,191,181,0.7)] hover:bg-[rgba(132,191,181,0.85)] text-white",children:"Home"}),e.jsx(l,{to:"/admin/blog",className:"py-2 bg-[rgba(132,191,181,0.7)] hover:bg-[rgba(132,191,181,0.85)] text-white",children:"Blog"}),e.jsx(l,{to:"/admin/settings",className:"py-2 bg-[rgba(132,191,181,0.7)] hover:bg-[rgba(132,191,181,0.85)] text-orange-500",children:"Settings"})]}),e.jsx(l,{onClick:w,className:"py-2 bg-[rgba(132,191,181,0.7)] hover:bg-[rgba(132,191,181,0.85)] text-white",children:"Logout"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"flex justify-between items-center pr-3 py-2",children:e.jsx("p",{className:"px-3 py-2 text-center text-xl font-semibold capitalize",children:"User Settings"})}),e.jsx("div",{className:"flex flex-col py-2 justify-center items-center",children:e.jsxs("div",{className:"bg-white shadow-md rounded px-8 pt-6 pb-8 my-10 max-w-sm w-full mx-auto",children:[o==="passwordEdit"&&e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"oldPassword",children:"Old Password"}),e.jsx("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 mb-3 leading-tight focus:outline-none focus:shadow-outline",id:"oldPassword",name:"oldPassword",type:"password",placeholder:"johndoe1...",value:b,onChange:t})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"newPassword",children:"New Password"}),e.jsx("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"newPassword",name:"newPassword",type:"password",placeholder:"johndoe2...",value:u,onChange:t})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"confirmPassword",children:"Confirm New Password"}),e.jsx("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"confirmPassword",name:"confirmPassword",type:"password",placeholder:"johndoe2...",value:m,onChange:t})]})]}),(o==="view"||o==="infoEdit")&&e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"username",children:"Email"}),e.jsx("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"email",name:"email",type:"text",disabled:o==="view",placeholder:"Email",value:p,onChange:t})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"name",children:"Name"}),e.jsx("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"name",name:"name",type:"text",disabled:o==="view",placeholder:"Name",value:f,onChange:t})]})]}),o==="view"&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("button",{className:"bg-primary border hover:bg-slate-50 font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",onClick:a=>{a.preventDefault(),r("infoEdit")},children:"Update user"}),e.jsx("button",{className:"bg-primary border hover:bg-slate-50 font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",onClick:a=>{a.preventDefault(),r("passwordEdit")},children:"Update password"})]}),(o==="passwordEdit"||o==="infoEdit")&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("button",{className:"bg-primary border border-red-400 text-red-400 hover:bg-red-500 hover:text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline transition-all",onClick:a=>{a.preventDefault(),r("view"),c(x=>({...x,oldPassword:"",newPassword:"",email:s==null?void 0:s.email,name:s==null?void 0:s.name}))},children:"Cancel"}),e.jsx("button",{className:"bg-primary border hover:border-green-400 hover:bg-green-400 hover:text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",onClick:a=>{a.preventDefault(),g()},children:"Update"})]})]})})]})]})};export{S as default};
